{
  "version": 2,
  "_version_comment": "Configuration schema version",

  "meta": {
    "_meta_comment": "Metadata about this configuration",
    "description": "Trading Bot Configuration - Strategy-Driven Architecture",
    "lastUpdated": "2026-01-25",
    "strategy": "level-trading-v2",
    "_strategy_comment": "Which strategy JSON file to use (e.g., level-trading-v2, level-trading-v1, etc.)",
    "notes": "V2 Strategy (Momentum + Levels + EMA) with optimized parameters. EMA 9/19 from calibration. Expected: 45-55% WR, PF 2.0-3.0. Session 29.4c: Fixed config validation for riskManagement fields."
  },

  "system": {
    "_system_comment": "System-level configuration",
    "timeSyncIntervalMs": 60000,
    "_timeSyncIntervalMs_comment": "How often to sync time with exchange (milliseconds)",
    "timeSyncMaxFailures": 5,
    "_timeSyncMaxFailures_comment": "Max failed sync attempts before warning"
  },

  "exchange": {
    "_exchange_comment": "Exchange connection settings",
    "name": "bybit",
    "_name_comment": "Exchange name: bybit, binance, etc.",
    "symbol": "XRPUSDT",
    "_symbol_comment": "Trading pair symbol",
    "demo": true,
    "_demo_comment": "Use demo/paper trading (true) or live (false)",
    "testnet": false,
    "_testnet_comment": "Use exchange testnet (only some exchanges support it)",
    "apiKey": "",
    "_apiKey_comment": "API key (leave empty if using demo mode)",
    "apiSecret": "",
    "_apiSecret_comment": "API secret (leave empty if using demo mode)"
  },

  "trading": {
    "_trading_comment": "Trading execution parameters",
    "leverage": 10,
    "_leverage_comment": "Leverage multiplier for position size (10 = 10x)",
    "positionSizeUsdt": 10,
    "_positionSizeUsdt_comment": "Base position size in USDT per trade",
    "maxPositions": 1,
    "_maxPositions_comment": "Maximum concurrent open positions",
    "orderType": "MARKET",
    "_orderType_comment": "Order type: MARKET (fast execution) or LIMIT (better price)",
    "tradingCycleIntervalMs": 10000,
    "_tradingCycleIntervalMs_comment": "How often to check for new trading signals (milliseconds)",
    "favourableMovementThresholdPercent": 0.1,
    "_favourableMovementThresholdPercent_comment": "Price movement threshold to consider favorable (percentage)"
  },

  "riskManagement": {
    "_riskManagement_comment": "Risk management and position exit settings (Session 29.4c)",
    "stopLossPercent": 2.0,
    "_stopLossPercent_comment": "Stop loss percentage from entry price",
    "minStopLossPercent": 1.0,
    "_minStopLossPercent_comment": "Minimum allowed SL distance (percentage)",
    "breakevenOffsetPercent": 0.3,
    "_breakevenOffsetPercent_comment": "Offset from entry when moving SL to breakeven after TP hit",
    "trailingStopEnabled": true,
    "_trailingStopEnabled_comment": "Enable trailing stop to lock in profits",
    "trailingStopPercent": 1.0,
    "_trailingStopPercent_comment": "Trailing stop distance percentage",
    "trailingStopActivationLevel": 2,
    "_trailingStopActivationLevel_comment": "Which TP level activates trailing stop (e.g., 2 for TP2)",
    "positionSizeUsdt": 10,
    "_positionSizeUsdt_comment": "Position size in USDT per trade",
    "timeBasedExitEnabled": false,
    "_timeBasedExitEnabled_comment": "Close positions after max holding time",
    "timeBasedExitMinutes": 30,
    "_timeBasedExitMinutes_comment": "Maximum holding time in minutes (0 = disabled)",
    "timeBasedExitMinPnl": 0.2,
    "_timeBasedExitMinPnl_comment": "Minimum PnL % required for time-based exit",
    "takeProfits": [
      {
        "_comment": "Take profit level 1 (33% of position)",
        "level": 1,
        "percent": 1.5,
        "_percent_comment": "Close 33% at 1.5% profit",
        "sizePercent": 33,
        "_sizePercent_comment": "Close 33% of position at this level"
      },
      {
        "_comment": "Take profit level 2 (33% of position)",
        "level": 2,
        "percent": 3.0,
        "_percent_comment": "Close another 33% at 3.0% profit",
        "sizePercent": 33,
        "_sizePercent_comment": "Close another 33% of remaining position"
      },
      {
        "_comment": "Take profit level 3 (remaining 34% of position)",
        "level": 3,
        "percent": 5.0,
        "_percent_comment": "Close remaining 34% at 5.0% profit",
        "sizePercent": 34,
        "_sizePercent_comment": "Close remaining 34% of position"
      }
    ]
  },

  "timeframes": {
    "_timeframes_comment": "Candle timeframes to fetch and analyze",
    "entry": {
      "_entry_comment": "Entry signal timeframe (fastest, most reactive)",
      "interval": "1",
      "_interval_comment": "1 minute candles",
      "candleLimit": 1000,
      "_candleLimit_comment": "Fetch last 1000 candles (1000 min = ~17 hours)"
    },
    "primary": {
      "_primary_comment": "Primary analysis timeframe (main trading timeframe)",
      "interval": "5",
      "_interval_comment": "5 minute candles",
      "candleLimit": 500,
      "_candleLimit_comment": "Fetch last 500 candles (500 × 5 min = ~2.4 days)"
    },
    "trend1": {
      "_trend1_comment": "Short-term trend context",
      "interval": "15",
      "_interval_comment": "15 minute candles",
      "candleLimit": 500,
      "_candleLimit_comment": "Fetch last 500 candles (500 × 15 min = ~5.2 days)"
    },
    "trend2": {
      "_trend2_comment": "Medium-term trend context",
      "interval": "30",
      "_interval_comment": "30 minute candles",
      "candleLimit": 250,
      "_candleLimit_comment": "Fetch last 250 candles (250 × 30 min = ~5.2 days)"
    },
    "context": {
      "_context_comment": "Long-term trend context (daily equivalent)",
      "interval": "60",
      "_interval_comment": "1 hour (60 minute) candles",
      "candleLimit": 100,
      "_candleLimit_comment": "Fetch last 100 candles (100 hours = ~4.2 days)"
    }
  },

  "indicators": {
    "_indicators_comment": "Technical indicator configurations used by analyzers",
    "ema": {
      "_ema_comment": "Exponential Moving Average: fast/slow line crossover for trend",
      "enabled": true,
      "fastPeriod": 9,
      "_fastPeriod_comment": "Fast EMA period (9 is optimized, was 12)",
      "slowPeriod": 19,
      "_slowPeriod_comment": "Slow EMA period (19 is optimized, was 26)",
      "baseConfidence": 0.8,
      "_baseConfidence_comment": "Base confidence level for EMA signals",
      "strengthMultiplier": 1.5,
      "_strengthMultiplier_comment": "Multiply confidence by 1.5 for strong trend signals"
    },
    "rsi": {
      "_rsi_comment": "Relative Strength Index: identifies overbought/oversold conditions",
      "enabled": true,
      "period": 14,
      "_period_comment": "RSI period (standard 14)",
      "oversold": 30,
      "_oversold_comment": "RSI < 30 = oversold (potential LONG)",
      "overbought": 70,
      "_overbought_comment": "RSI > 70 = overbought (potential SHORT)",
      "extreme": {
        "low": 20,
        "_low_comment": "Extreme low (very oversold)",
        "high": 80,
        "_high_comment": "Extreme high (very overbought)"
      },
      "neutralZone": {
        "min": 40,
        "_min_comment": "RSI > 40 is neutral/bullish",
        "max": 60,
        "_max_comment": "RSI < 60 is neutral/bearish"
      },
      "maxConfidence": 0.9,
      "_maxConfidence_comment": "Cap RSI signal confidence at 90%"
    },
    "atr": {
      "_atr_comment": "Average True Range: measures volatility",
      "enabled": true,
      "period": 14,
      "_period_comment": "ATR period (standard 14)",
      "minimumATR": 0.005,
      "_minimumATR_comment": "Reject trades if ATR too low (not enough volatility)",
      "maximumATR": 2.0,
      "_maximumATR_comment": "Reject trades if ATR too high (extreme volatility)"
    },
    "volume": {
      "_volume_comment": "Volume profile: analyzes trading volume distribution",
      "enabled": true,
      "period": 20,
      "_period_comment": "Volume analysis period (20 candles)",
      "volumeMultiplier": 1.5,
      "_volumeMultiplier_comment": "Significant volume = average × 1.5"
    },
    "stochastic": {
      "_stochastic_comment": "Stochastic Oscillator: momentum indicator similar to RSI",
      "enabled": true,
      "kPeriod": 14,
      "_kPeriod_comment": "K% period (14)",
      "dPeriod": 3,
      "_dPeriod_comment": "D% period (3-period SMA of K%)",
      "oversold": 20,
      "_oversold_comment": "Stochastic < 20 = oversold",
      "overbought": 80,
      "_overbought_comment": "Stochastic > 80 = overbought"
    },
    "bollingerBands": {
      "_bollingerBands_comment": "Bollinger Bands: volatility envelope around moving average",
      "enabled": true,
      "period": 20,
      "_period_comment": "20-period moving average",
      "stdDev": 2.0,
      "_stdDev_comment": "Standard deviations for band width (2.0 = standard)"
    }
  },

  "analyzerDefaults": {
    "_analyzerDefaults_comment": "Default parameters for each analyzer type",
    "EMA_ANALYZER_NEW": {
      "_comment": "EMA crossover analyzer: fast EMA crosses slow EMA",
      "baseConfidence": 0.8,
      "_baseConfidence_comment": "Base confidence level for EMA signals (0.0-1.0)",
      "strengthMultiplier": 1.5,
      "_strengthMultiplier_comment": "Multiply confidence by this for strong trends (1.5 = 50% boost)",
      "minConfidence": 0.50,
      "_minConfidence_comment": "Minimum confidence threshold (signals below this are HOLD)",
      "maxConfidence": 0.95,
      "_maxConfidence_comment": "Maximum confidence cap (signals above this are capped)"
    },
    "RSI_ANALYZER_NEW": {
      "_comment": "RSI analyzer: overbought/oversold conditions",
      "extremeThreshold": 5,
      "maxConfidence": 0.9
    },
    "ATR_ANALYZER_NEW": {
      "_comment": "ATR analyzer: volatility-based stop loss sizing",
      "confidenceMultiplier": 2.0,
      "maxConfidence": 0.95
    },
    "VOLUME_ANALYZER_NEW": {
      "_comment": "Volume analyzer: unusual volume activity",
      "neutralConfidence": 0.2,
      "maxConfidence": 0.95
    },
    "STOCHASTIC_ANALYZER_NEW": {
      "_comment": "Stochastic analyzer: momentum via stochastic oscillator",
      "extremeThreshold": 5,
      "maxConfidence": 0.9
    },
    "BOLLINGER_BANDS_ANALYZER_NEW": {
      "_comment": "Bollinger Bands analyzer: band touches and breakouts",
      "bandTouchConfidence": 0.5,
      "maxConfidence": 0.9
    },
    "DIVERGENCE_ANALYZER_NEW": {
      "_comment": "Divergence analyzer: price vs indicator mismatch (reversal signal)",
      "minBars": 3,
      "maxConfidence": 0.85
    },
    "BREAKOUT_ANALYZER_NEW": {
      "_comment": "Breakout analyzer: price breaks support/resistance",
      "minBars": 5,
      "breakoutThresholdPercent": 0.1,
      "maxConfidence": 0.9
    },
    "WICK_ANALYZER_NEW": {
      "_comment": "Wick analyzer: candle wicks touch and bounce from levels",
      "minWickPercent": 0.5,
      "maxConfidence": 0.85
    },
    "PRICE_MOMENTUM_ANALYZER_NEW": {
      "_comment": "Momentum analyzer: rapid price movement and acceleration",
      "minConfidence": 0.55,
      "_minConfidence_comment": "Minimum confidence threshold for momentum signals (0.0-1.0)",
      "maxConfidence": 0.90,
      "_maxConfidence_comment": "Maximum confidence cap for momentum signals"
    },
    "TREND_DETECTOR_ANALYZER_NEW": {
      "_comment": "Trend detector: EMA gap indicates trend strength",
      "minEmaGapPercent": 0.5,
      "minConfidence": 0.3,
      "maxConfidence": 0.95
    },
    "SWING_ANALYZER_NEW": {
      "_comment": "Swing analyzer: higher highs/lows in direction",
      "minSwingPercent": 0.5,
      "maxConfidence": 0.85
    },
    "LEVEL_ANALYZER_NEW": {
      "_comment": "Level analyzer: price bounces from support/resistance levels",
      "_note": "This analyzer only requires base config (enabled, weight, priority). No additional parameters needed."
    },
    "CHOCH_BOS_ANALYZER_NEW": {
      "_comment": "CHOCH/BOS analyzer: Change of Character / Break of Structure",
      "minSwingPercent": 0.5,
      "maxConfidence": 0.85
    },
    "LIQUIDITY_SWEEP_ANALYZER_NEW": {
      "_comment": "Liquidity sweep analyzer: high volume penetration",
      "minVolumeMultiplier": 1.5,
      "maxConfidence": 0.9
    },
    "LIQUIDITY_ZONE_ANALYZER_NEW": {
      "_comment": "Liquidity zone analyzer: price trades near zones",
      "zoneDepthPercent": 0.5,
      "maxConfidence": 0.85
    },
    "ORDER_BLOCK_ANALYZER_NEW": {
      "_comment": "Order block analyzer: institutional order clusters",
      "minBars": 5,
      "maxConfidence": 0.9
    },
    "FAIR_VALUE_GAP_ANALYZER_NEW": {
      "_comment": "Fair value gap analyzer: unfilled price gaps",
      "minGapPercent": 0.1,
      "maxConfidence": 0.85
    },
    "VOLUME_PROFILE_ANALYZER_NEW": {
      "_comment": "Volume profile analyzer: point of control (POC)",
      "pocConfidence": 0.7,
      "maxConfidence": 0.9
    },
    "ORDER_FLOW_ANALYZER_NEW": {
      "_comment": "Order flow analyzer: buy/sell imbalance",
      "minDeltaPercent": 5,
      "maxConfidence": 0.9
    },
    "FOOTPRINT_ANALYZER_NEW": {
      "_comment": "Footprint analyzer: detailed order activity pattern",
      "minFootprintBars": 3,
      "maxConfidence": 0.85
    },
    "WHALE_ANALYZER_NEW": {
      "_comment": "Whale analyzer: large order detection",
      "minOrderSizePercent": 1,
      "maxConfidence": 0.9
    },
    "MICRO_WALL_ANALYZER_NEW": {
      "_comment": "Micro wall analyzer: small order clusters at price",
      "minWallSizePercent": 0.5,
      "maxConfidence": 0.85
    },
    "DELTA_ANALYZER_NEW": {
      "_comment": "Delta analyzer: buy volume vs sell volume ratio",
      "minDeltaPercent": 10,
      "maxConfidence": 0.9
    },
    "TICK_DELTA_ANALYZER_NEW": {
      "_comment": "Tick delta analyzer: individual trade direction flow",
      "minTickDelta": 5,
      "maxConfidence": 0.85
    },
    "PRICE_ACTION_ANALYZER_NEW": {
      "_comment": "Price action analyzer: candlestick patterns",
      "minBars": 3,
      "maxConfidence": 0.9
    },
    "TREND_CONFLICT_ANALYZER_NEW": {
      "_comment": "Trend conflict analyzer: conflicting signals detection",
      "minConflictPercent": 10,
      "maxConfidence": 0.8
    },
    "VOLATILITY_SPIKE_ANALYZER_NEW": {
      "_comment": "Volatility spike analyzer: sudden volatility increase",
      "maxConfidence": 0.95
    }
  },

  "filters": {
    "_filters_comment": "Signal filters: block trades in certain conditions",
    "btcCorrelation": {
      "_btcCorrelation_comment": "Block trades when BTC moves against signal direction",
      "enabled": false,
      "symbol": "BTCUSDT",
      "timeframe": "1",
      "lookbackCandles": 100,
      "correlationPeriod": 50,
      "thresholds": {
        "weak": 0.3,
        "moderate": 0.6,
        "strict": 0.8
      }
    },
    "nightTrading": {
      "_nightTrading_comment": "Block trades during low-volume night hours (UTC)",
      "enabled": false,
      "utcStartHour": 22,
      "utcEndHour": 6,
      "confidencePenalty": 0.8
    },
    "blindZone": {
      "_blindZone_comment": "Block trades if not enough confirming signals (avoid conflicting entries)",
      "enabled": true,
      "minSignalsForLong": 2,
      "_minSignalsForLong_comment": "Need min 2 analyzers confirming LONG",
      "minSignalsForShort": 2,
      "_minSignalsForShort_comment": "Need min 2 analyzers confirming SHORT",
      "longPenalty": 0.85,
      "_longPenalty_comment": "Reduce confidence by 15% if not enough signals",
      "shortPenalty": 0.90,
      "_shortPenalty_comment": "Reduce confidence by 10% if not enough signals"
    },
    "entryConfirmation": {
      "_entryConfirmation_comment": "Wait for price confirmation before entering (avoid getting faked out)",
      "enabled": true,
      "long": {
        "expirySeconds": 120,
        "_expirySeconds_comment": "Confirmation valid for 120 seconds",
        "tolerancePercent": 0.05,
        "_tolerancePercent_comment": "Allow 0.05% slippage from signal price"
      },
      "short": {
        "expirySeconds": 120,
        "tolerancePercent": 0.05
      }
    },
    "atr": {
      "_atr_comment": "Block trades if volatility too low or too high",
      "enabled": true,
      "period": 14,
      "minimumATR": 0.01,
      "_minimumATR_comment": "Skip trades if ATR < 0.01 (no volatility)",
      "maximumATR": 1.5,
      "_maximumATR_comment": "Skip trades if ATR > 1.5 (extreme volatility)"
    },
    "volatilityRegime": {
      "_volatilityRegime_comment": "Adjust parameters based on volatility environment",
      "enabled": true,
      "thresholds": {
        "lowAtrPercent": 0.3,
        "_lowAtrPercent_comment": "ATR < 0.3% = low volatility regime",
        "highAtrPercent": 1.5,
        "_highAtrPercent_comment": "ATR > 1.5% = high volatility regime"
      }
    }
  },

  "confidence": {
    "_confidence_comment": "Minimum signal confidence thresholds by market regime",
    "defaults": {
      "min": 0.55,
      "_min_comment": "Default minimum confidence: 55%",
      "clampMin": 0.3,
      "_clampMin_comment": "Never go below 30% confidence",
      "clampMax": 1.0,
      "_clampMax_comment": "Never exceed 100% confidence"
    },
    "regimes": {
      "LOW": {
        "_LOW_comment": "Low volatility market: stricter requirements",
        "confidence": {
          "min": 0.65,
          "_min_comment": "Require 65% confidence (higher threshold)"
        },
        "distance": {
          "maxToLevel": 0.3,
          "_maxToLevel_comment": "Price must be close to level (0.3%)"
        },
        "touches": {
          "min": 4,
          "_min_comment": "Level needs 4+ touches"
        }
      },
      "MEDIUM": {
        "_MEDIUM_comment": "Medium volatility market: normal requirements",
        "confidence": {
          "min": 0.55,
          "_min_comment": "Require 55% confidence"
        },
        "distance": {
          "maxToLevel": 0.6
        },
        "touches": {
          "min": 3
        }
      },
      "HIGH": {
        "_HIGH_comment": "High volatility market: relaxed requirements",
        "confidence": {
          "min": 0.5,
          "_min_comment": "Require 50% confidence (lower threshold)"
        },
        "distance": {
          "maxToLevel": 1.2,
          "_maxToLevel_comment": "Allow further from level (1.2%)"
        },
        "touches": {
          "min": 2,
          "_min_comment": "Level only needs 2 touches"
        }
      }
    }
  },

  "services": {
    "_services_comment": "Background service configurations",
    "websocket": {
      "_websocket_comment": "WebSocket connection parameters",
      "pingIntervalMs": 20000,
      "_pingIntervalMs_comment": "Send ping every 20 seconds to keep connection alive",
      "reconnectDelayMs": 5000,
      "_reconnectDelayMs_comment": "Wait 5 seconds before reconnecting",
      "maxReconnectAttempts": 10,
      "_maxReconnectAttempts_comment": "Give up after 10 failed reconnection attempts",
      "authExpiresOffsetMs": 10000,
      "_authExpiresOffsetMs_comment": "Re-auth 10 seconds before expiration"
    },
    "logging": {
      "_logging_comment": "Logging level and output",
      "level": "DEBUG",
      "_level_comment": "Log level: ERROR, WARNING, INFO, DEBUG, TRACE",
      "toFile": true,
      "_toFile_comment": "Write logs to file",
      "toConsole": true,
      "_toConsole_comment": "Print logs to console"
    }
  },

  "logging": {
    "_logging_comment": "Duplicate logging config (consolidation pending)",
    "level": "DEBUG",
    "logDir": "logs",
    "_logDir_comment": "Directory to write log files",
    "toFile": true,
    "toConsole": true
  },

  "monitoring": {
    "_monitoring_comment": "Bot health monitoring and safety switches",
    "marketHealth": {
      "_marketHealth_comment": "Stop trading if performance drops below thresholds",
      "enabled": true,
      "minWinRate": 0.4,
      "_minWinRate_comment": "Alert if win rate < 40%",
      "minProfitFactor": 1.2,
      "_minProfitFactor_comment": "Alert if profit factor < 1.2",
      "maxConsecutiveLosses": 5,
      "_maxConsecutiveLosses_comment": "Stop trading after 5 losses in a row",
      "maxDrawdown": 0.15,
      "_maxDrawdown_comment": "Stop trading if drawdown > 15%"
    },
    "antiFlip": {
      "_antiFlip_comment": "Prevent rapid direction changes (LONG → SHORT → LONG)",
      "enabled": true,
      "cooldownCandles": 3,
      "_cooldownCandles_comment": "Wait 3 candles before reversing",
      "cooldownMs": 300000,
      "_cooldownMs_comment": "Wait 5 minutes before reversing",
      "requiredConfirmationCandles": 2,
      "_requiredConfirmationCandles_comment": "Need 2 candles confirming reversal direction",
      "overrideConfidenceThreshold": 85,
      "_overrideConfidenceThreshold_comment": "Allow reversal if 85%+ confidence",
      "strongReversalRsiThreshold": 25,
      "_strongReversalRsiThreshold_comment": "RSI < 25 or > 75 = strong reversal signal"
    }
  },

  "entryConfig": {
    "_entryConfig_comment": "Entry signal detection configuration",
    "divergenceDetector": {
      "_divergenceDetector_comment": "Detect price/indicator divergences for reversals",
      "enabled": false,
      "lookbackCandles": 50,
      "_lookbackCandles_comment": "Look back 50 candles for divergence pattern"
    }
  },

  "btcConfirmation": {
    "_btcConfirmation_comment": "Deprecated: moved to filters.btcCorrelation",
    "enabled": false,
    "symbol": "BTCUSDT",
    "timeframe": "1",
    "lookbackCandles": 100,
    "correlationPeriod": 50,
    "thresholds": {
      "weak": 0.3,
      "moderate": 0.6,
      "strict": 0.8
    }
  },

  "trendConfirmation": {
    "_trendConfirmation_comment": "Confirm entries align with trend direction",
    "enabled": true,
    "_enabled_comment": "Block counter-trend entries",
    "method": "ema",
    "_method_comment": "Use EMA crossover for trend detection",
    "minStrength": 0.5,
    "_minStrength_comment": "Only trade if trend strength > 50%"
  },

  "analysisConfig": {
    "_analysisConfig_comment": "Analysis depth and logging",
    "enabled": true,
    "_enabled_comment": "Enable signal analysis",
    "deepAnalysis": false,
    "_deepAnalysis_comment": "Log detailed analysis (verbose, slows down bot)"
  },

  "strategicWeights": {
    "_strategicWeights_comment": "Manual weight distribution (deprecated: use strategy JSON files)",
    "trend": 0.4,
    "_trend_comment": "40% weight on trend signals",
    "support": 0.3,
    "_support_comment": "30% weight on support/resistance signals",
    "volume": 0.3,
    "_volume_comment": "30% weight on volume signals"
  },

  "strategies": {
    "_strategies_comment": "Strategy configuration",
    "enabled": true,
    "_enabled_comment": "Enable strategy-driven analysis",
    "default": "simple-levels",
    "_default_comment": "Fallback strategy if not specified"
  },

  "analyzers": {
    "_analyzers_comment": "Analyzer engine configuration",
    "enabled": true,
    "_enabled_comment": "Enable analyzer-based signal generation"
  },

  "liveTrading": {
    "_comment": "Phase 9: Live Trading Engine Configuration (Session 29.2)",
    "enabled": true,
    "riskMonitoring": {
      "enabled": true,
      "_enabled_comment": "Enable real-time position health monitoring",
      "checkIntervalCandles": 5,
      "_checkIntervalCandles_comment": "Check position health every N candles",
      "healthScoreThreshold": 30,
      "_healthScoreThreshold_comment": "Below this % triggers CRITICAL danger level",
      "emergencyCloseOnCritical": true,
      "_emergencyCloseOnCritical_comment": "Auto-close positions when health score drops below threshold"
    },
    "positionLifecycle": {
      "enabled": true,
      "maxHoldingTimeMinutes": 240,
      "_maxHoldingTimeMinutes_comment": "Max time to hold a position (4 hours = 240 minutes)",
      "warningThresholdMinutes": 180,
      "_warningThresholdMinutes_comment": "Emit warning before timeout (3 hours = 180 minutes)",
      "enableAutomaticTimeout": true,
      "_enableAutomaticTimeout_comment": "Auto-close positions that exceed max holding time"
    },
    "orderExecution": {
      "enabled": true,
      "_enabled_comment": "Enable order execution pipeline with retries",
      "maxRetries": 3,
      "_maxRetries_comment": "Maximum retry attempts for failed orders",
      "retryDelayMs": 500,
      "_retryDelayMs_comment": "Initial delay between retry attempts (will increase with linear backoff)",
      "timeoutMs": 5000,
      "_timeoutMs_comment": "Order timeout in milliseconds (5 seconds recommended for derivatives)",
      "verifyBeforeRetry": true,
      "_verifyBeforeRetry_comment": "Check order status before retrying to prevent duplicates",
      "slippagePercent": 0.5,
      "_slippagePercent_comment": "Maximum acceptable slippage % before warning"
    },
    "gracefulShutdown": {
      "enabled": true,
      "_enabled_comment": "Enable graceful shutdown with state persistence",
      "timeoutMs": 30000,
      "_timeoutMs_comment": "Shutdown timeout in milliseconds (30 seconds recommended)",
      "forceExitOnTimeout": true,
      "_forceExitOnTimeout_comment": "Force exit process if shutdown timeout exceeded",
      "closeAllPositions": false,
      "_closeAllPositions_comment": "Auto-close all positions on shutdown (false = persist state instead)",
      "persistState": true,
      "_persistState_comment": "Save bot state to disk for recovery on restart"
    }
  }
}
